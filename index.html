<!DOCTYPE html>
<head>
	<meta name="viewport" content=
		"width=device-width, initial-scale=1.0">
    <title>Tic Tac Game</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div id="main">
		<h1>TicTac</h1>

		<!-- Game Instructions -->
		<p id="ins">Game starts by just Tap on box<br><br>
            First Player starts as<b>Player X</b>
            <br>Second Player as <b>Player 0</b>
		</p>

		<br><br>
		<!-- 3*3 grid of Boxes -->
		<input type="text" id="0-0" onclick="play(event)" readonly>
		<input type="text" id="0-1" onclick="play(event)" readonly>
		<input type="text" id="0-2" onclick="play(event)" readonly>
		<br><br>

		<input type="text" id="1-0" onclick="play(event)" readonly>
		<input type="text" id="1-1" onclick="play(event)" readonly>
		<input type="text" id="1-2" onclick="play(event)" readonly>
		<br><br>

		<input type="text" id="2-0" onclick="play(event)" readonly>
		<input type="text" id="2-1" onclick="play(event)" readonly>
		<input type="text" id="2-2" onclick="play(event)" readonly>

		<!-- Grid end here -->
		<br><br><br>
		<!-- Button to reset game -->
		<button id="but" onclick="newGame()">Reset</button>

		<br><br>
		<!-- Space to show player turn -->
		<p id="print"></p>

	</div>

    <script>
        let board= new Array();
        let player ="x";
        let nbPlay=0;

        function newGame(){
            
            //Create and initialize a Matrice 3x3 
            for(let i=0;i<3;i++){
                for(let j=0;j<3;j++){
                    if(!board[i])
                    board[i]=new Array();
                    board[i][j]="";
                    document.getElementById(i+"-"+j).value="";
                }
            }

            player="x";
            nbPlay=0;
        }

        newGame();

        function play(e){
            let cell = e.target.id.split("-");
            let i = parseInt(cell[0]);
            let j = parseInt(cell[1]);
            
            //Check if the clicked cell is not already clicked before
            if(board[i][j]==""){
                board[i][j]="x";
                
                //Clicked cell value will be 'x' if it's player_x turn
                if(player=="x"){
                    board[i][j]="x";
                    document.getElementById(i+"-"+j).value=board[i][j];
                    nbPlay++;
                    checkWinner();
                    player="o";
                    
                //Clicked cell value will be 'o' if it's player_o turn
                }else if(player=="o"){
                    board[i][j]="o";
                    document.getElementById(i+"-"+j).value=board[i][j];
                    nbPlay++;
                    checkWinner();
                    player="x";
                }
                
            }
        }

        //Check All win combinations (in this case we have 8 combinations of win)
        //Check also if the game finished with draw
        function checkWinner(){
            let winner="draw";

            
            if(board[0][0]==board[0][1] && board[0][0]==board[0][2] && board[0][0]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[1][0]==board[1][1] && board[1][0]==board[1][2] && board[1][0]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[2][0]==board[2][1] && board[2][0]==board[2][2] && board[2][0]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[0][0]==board[1][0] && board[0][0]==board[2][0] && board[0][0]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[0][1]==board[1][1] && board[0][1]==board[2][1] && board[0][1]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[0][2]==board[1][2] && board[0][2]==board[2][2] && board[0][2]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[0][0]==board[1][1] && board[0][0]==board[2][2] && board[0][0]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            if(board[0][2]==board[1][1] && board[0][2]==board[2][0] && board[0][2]!=""){
                winner="";
                alert("the winner is : player_"+player+"\nClick to start a new round");
                newGame();
            }
            
            if(nbPlay == 9 && winner=="draw"){
                alert("Draw Game!! Click to start a new round");
                
            }
        }
    </script>
</body>
</html>
